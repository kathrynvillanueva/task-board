(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d21695c"],{c2a8:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-card",{staticClass:"q-pa-sm"},[a("q-card-title",[a("label",{staticClass:"title"},[t._v(t._s(t.formMode+" - Project"))])]),a("q-card-main",[a("div",{staticClass:"row gutter-sm relative-position"},[a("div",{staticClass:"col-xs-12 col-sm-4"},[a("q-input",{attrs:{"float-label":"Code:"},model:{value:t.formData.code,callback:function(e){t.$set(t.formData,"code",e)},expression:"formData.code"}}),a("q-input",{attrs:{"float-label":"Name:"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),a("q-input",{staticClass:"q-mb-lg",attrs:{type:"textarea",rows:"3","float-label":"Description:"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("div",{staticClass:"col-xs-12 col-sm-4"},[a("q-datetime",{attrs:{"float-label":"Start Date:",type:"datetime"},model:{value:t.formData.start_date,callback:function(e){t.$set(t.formData,"start_date",e)},expression:"formData.start_date"}}),a("q-datetime",{attrs:{"float-label":"End Date:",type:"datetime"},model:{value:t.formData.end_date,callback:function(e){t.$set(t.formData,"end_date",e)},expression:"formData.end_date"}}),a("q-checkbox",{staticClass:"q-mt-lg",attrs:{"true-value":1,"false-value":0,label:"Active"},model:{value:t.formData.is_active,callback:function(e){t.$set(t.formData,"is_active",e)},expression:"formData.is_active"}})],1),a("div",{staticClass:"col-xs-12 col-sm-4"},[a("q-input",{attrs:{"float-label":"Budget (cost):"},model:{value:t.formData.budget_cost,callback:function(e){t.$set(t.formData,"budget_cost",e)},expression:"formData.budget_cost"}}),a("q-input",{attrs:{"float-label":"Budget (hours):"},model:{value:t.formData.budget_hours,callback:function(e){t.$set(t.formData,"budget_hours",e)},expression:"formData.budget_hours"}})],1)]),a("div",{staticStyle:{margin:"0 0 45px"}},[a("div",{staticClass:"project-form-div"},[a("q-card",{staticClass:"q-pa-md project-form-table"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",size:"sm"},on:{click:t.showMemberModal}},[a("i",{staticClass:"fas fa-plus"}),a("q-tooltip",[t._v("Add")])],1),a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"red",size:"sm"}},[a("i",{staticClass:"fas fa-trash-alt"}),a("q-tooltip",[t._v("Remove")])],1),t._v("\n            Members\n            "),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.formData.project_employee,border:""}},[a("el-table-column",{attrs:{sortable:"",type:"selection"}}),a("el-table-column",{attrs:{width:"150",sortable:"",prop:"code",label:"Code"}}),a("el-table-column",{attrs:{width:"250",sortable:"",prop:"name",label:"Name"}}),a("el-table-column",{attrs:{"min-width":"170",label:"Operations"}})],1)],1)],1),a("div",{staticClass:"project-form-div"},[a("q-card",{staticClass:"q-pa-md project-form-table"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",size:"sm"},on:{click:t.showOwnerModal}},[a("i",{staticClass:"fas fa-plus"}),a("q-tooltip",[t._v("Add")])],1),a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"red",size:"sm"}},[a("i",{staticClass:"fas fa-trash-alt"}),a("q-tooltip",[t._v("Remove")])],1),t._v("\n            Product Owners\n            "),a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{data:t.formData.product_owner,border:""}},[a("el-table-column",{attrs:{sortable:"",type:"selection"}}),a("el-table-column",{attrs:{width:"150",sortable:"",prop:"employee.employee_code",label:"Code"}}),a("el-table-column",{attrs:{"min-width":"250",sortable:"",label:"Name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(null==e.row.employee_id?"":e.row.employee.first_name+(null==e.row.employee.middle_name?" ":" "+e.row.employee.middle_name+" ")+e.row.employee.last_name)+"\n                ")]}}])})],1)],1)],1),a("div",{staticClass:"col-xs-12 q-pt-md float-right"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{color:"primary",label:"Submit"},nativeOn:{click:function(e){return t.submitForm(e)}}}),a("q-btn",{attrs:{color:"tertiary",label:"Back"},nativeOn:{click:function(e){t.$router.push("/projects")}}})],1)])])],1),a("add-member-form",{ref:"form1"}),a("add-owner-form",{ref:"form2"})],1)},l=[];s._withStripped=!0;var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-modal",{attrs:{"content-css":{minWidth:"50vw",height:"70vh"},"no-esc-dismiss":"","no-backdrop-dismiss":""},model:{value:t.isShowModal,callback:function(e){t.isShowModal=e},expression:"isShowModal"}},[a("q-modal-layout",[a("q-toolbar",{staticClass:"modal-layout",attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[t._v("Add Product Owner")]),a("q-btn",{attrs:{disabled:t.isProcessing,round:"",flat:"",icon:"fas fa-times"},on:{click:t.closeModal}})],1),a("div",{staticClass:"q-pl-lg q-pr-lg",staticStyle:{width:"100%","margin-top":"20px"}},[a("q-toolbar",{attrs:{color:"grey-2"}},[a("q-btn",{attrs:{size:"sm",color:"white"},on:{click:function(e){t.isProcessing=!t.isProcessing}}},[a("i",{staticClass:"fas fa-sync-alt",staticStyle:{color:"#027be3"}}),a("q-tooltip",[a("div",{staticClass:"text-center"},[t._v("Refresh Table")])])],1),a("q-toolbar-title"),a("q-select",{staticClass:"search-filter",attrs:{options:t.searchFields,filter:"","inverted-light":"",color:"grey-5"},model:{value:t.tblOptions.searchIn,callback:function(e){t.$set(t.tblOptions,"searchIn",e)},expression:"tblOptions.searchIn"}}),a("q-search",{staticClass:"search",attrs:{debounce:700,placeholder:"Search","inverted-light":"",color:"white"},model:{value:t.tblOptions.search,callback:function(e){t.$set(t.tblOptions,"search",e)},expression:"tblOptions.search"}})],1)],1),a("div",{staticClass:"relative-position q-pl-lg q-pr-lg",staticStyle:{width:"100%"}},[a("el-table",{staticStyle:{"margin-top":"10px"},attrs:{"max-height":"360",data:t.project_employees,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{sortable:"",type:"selection"}}),a("el-table-column",{attrs:{width:"150",sortable:"",prop:"code",label:"Code"}}),a("el-table-column",{attrs:{width:"250",sortable:"",prop:"name",label:"Name"}}),a("el-table-column",{attrs:{"min-width":"170",label:"Operations"}})],1),a("q-inner-loading",{attrs:{visible:t.isProcessing}},[a("q-spinner-rings",{attrs:{size:"100px"}})],1),a("div",{staticClass:"pagination-div"},[a("q-btn",{attrs:{disabled:t.isProcessing||null===t.datas.first_page_url||1===t.datas.current_page,flat:"",icon:"fas fa-angle-double-left"},nativeOn:{click:function(e){t.paginationUrl(t.datas.first_page_url)}}}),a("q-btn",{staticClass:"q-mr-sm",attrs:{disabled:t.isProcessing||null===t.datas.prev_page_url,flat:"",icon:"fas fa-angle-left"},nativeOn:{click:function(e){t.paginationUrl(t.datas.prev_page_url)}}}),a("label",{staticClass:"pagination-page"},[t._v(t._s(t.datas.current_page))]),a("q-btn",{staticClass:"q-ml-sm",attrs:{disabled:t.isProcessing||null===t.datas.next_page_url,flat:"",icon:"fas fa-angle-right"},nativeOn:{click:function(e){t.paginationUrl(t.datas.next_page_url)}}}),a("q-btn",{attrs:{disabled:t.isProcessing||null===t.datas.last_page_url||t.datas.last_page===t.datas.current_page,flat:"",icon:"fas fa-angle-double-right"},nativeOn:{click:function(e){t.paginationUrl(t.datas.last_page_url)}}})],1)],1),a("div",{staticClass:"absolute-bottom-right q-ma-md"},[a("q-btn",{attrs:{color:"primary",label:"Add"},on:{click:t.addEmployee}})],1)],1)],1)},i=[];o._withStripped=!0;a("20d6");var r={name:"AddMember",data:function(){return{isShowModal:!1,isProcessing:!1,project_employees:this.$parent.employees,multipleSelection:[],currentPage:1,currentSize:10,currentTotal:1,orderBy:null,orderName:null,search:"",searchFields:[{label:"Code",value:"code"},{label:"Name",value:"name"},{label:"Description",value:"description"}],tblOptions:{orderBy:null,orderName:null,search:"",searchIn:"code"},datas:{current_page:1,from:0,last_page:0,per_page:0,first_page_url:"",last_page_url:"",next_page_url:"",prev_page_url:"",data:[]}}},methods:{showModal:function(){this.isShowModal=!0},closeModal:function(){this.isShowModal=!1},addEmployee:function(){var t=this;this.isProcessing=!0,setTimeout(function(){for(var e in t.multipleSelection)if(-1===t.$_.findIndex(t.$parent.formData.project_employee,{employee_id:t.multipleSelection[e]})){var a=t.$_.findIndex(t.$parent.employees,{id:t.multipleSelection[e]}),s={id:null,employee_id:t.$parent.employees[a]["id"],project_id:null,employee:t.$parent.employees[a]};t.$parent.formData.project_employee.push(s)}t.multipleSelection=[],t.isShowModal=!1},1e3)},handleSelectionChange:function(t){this.multipleSelection=this.$_.map(t,"id"),console.log(this.multipleSelection[0])}}},n=r,c=a("2877"),d=Object(c["a"])(n,o,i,!1,null,null,null);d.options.__file="AddMember.vue";var p=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-modal",{attrs:{"content-css":{minWidth:"50vw",minHeight:"70vh"},"no-esc-dismiss":"","no-backdrop-dismiss":""},model:{value:t.isShowModal,callback:function(e){t.isShowModal=e},expression:"isShowModal"}},[a("q-modal-layout",{staticClass:"relative-position"},[a("q-toolbar",{staticClass:"modal-layout",attrs:{slot:"header"},slot:"header"},[a("q-toolbar-title",[t._v("Add Product Owner")]),a("q-btn",{attrs:{disabled:t.isProcessing,round:"",flat:"",icon:"fas fa-times"},on:{click:t.closeModal}})],1),a("div",{staticClass:"q-pl-lg q-pr-lg",staticStyle:{width:"100%","margin-top":"20px"}},[a("q-toolbar",{attrs:{color:"grey-2"}},[a("q-btn",{attrs:{size:"sm",color:"white"},on:{click:function(e){t.isProcessing=!t.isProcessing}}},[a("i",{staticClass:"fas fa-sync-alt",staticStyle:{color:"#027be3"}}),a("q-tooltip",[a("div",{staticClass:"text-center"},[t._v("Refresh Table")])])],1),a("q-toolbar-title"),a("q-select",{staticClass:"search-filter",attrs:{options:t.searchFields,filter:"","inverted-light":"",color:"grey-5"},model:{value:t.tblOptions.searchIn,callback:function(e){t.$set(t.tblOptions,"searchIn",e)},expression:"tblOptions.searchIn"}}),a("q-search",{staticClass:"search",attrs:{debounce:700,placeholder:"Search","inverted-light":"",color:"white"},model:{value:t.tblOptions.search,callback:function(e){t.$set(t.tblOptions,"search",e)},expression:"tblOptions.search"}})],1)],1),a("div",{staticClass:"relative-position q-pl-lg q-pr-lg",staticStyle:{width:"100%"}},[a("el-table",{staticStyle:{"margin-top":"10px","overflow-y":"scroll"},attrs:{data:t.product_owners,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{sortable:"",type:"selection"}}),a("el-table-column",{attrs:{sortable:"",prop:"code",label:"Code"}}),a("el-table-column",{attrs:{sortable:"",prop:"name",label:"Name"}})],1),a("q-inner-loading",{attrs:{visible:t.isProcessing}},[a("q-spinner-rings",{attrs:{size:"100px"}})],1),a("div",{staticClass:"pagination-div"},[a("q-btn",{attrs:{disabled:t.isProcessing||null===t.datas.first_page_url||1===t.datas.current_page,flat:"",icon:"fas fa-angle-double-left"},nativeOn:{click:function(e){t.paginationUrl(t.datas.first_page_url)}}}),a("q-btn",{staticClass:"q-mr-sm",attrs:{disabled:t.isProcessing||null===t.datas.prev_page_url,flat:"",icon:"fas fa-angle-left"},nativeOn:{click:function(e){t.paginationUrl(t.datas.prev_page_url)}}}),a("label",{staticClass:"pagination-page"},[t._v(t._s(t.datas.current_page))]),a("q-btn",{staticClass:"q-ml-sm",attrs:{disabled:t.isProcessing||null===t.datas.next_page_url,flat:"",icon:"fas fa-angle-right"},nativeOn:{click:function(e){t.paginationUrl(t.datas.next_page_url)}}}),a("q-btn",{attrs:{disabled:t.isProcessing||null===t.datas.last_page_url||t.datas.last_page===t.datas.current_page,flat:"",icon:"fas fa-angle-double-right"},nativeOn:{click:function(e){t.paginationUrl(t.datas.last_page_url)}}})],1)],1),a("div",{staticClass:"absolute-bottom-right q-ma-md"},[a("q-btn",{attrs:{color:"primary",label:"Add"},on:{click:t.addOwner}})],1)],1)],1)},u=[];m._withStripped=!0;var f={name:"AddOwner",data:function(){return{isShowModal:!1,isProcessing:!1,product_owners:this.$parent.employees,multipleSelection:[],currentPage:1,currentSize:10,currentTotal:1,orderBy:null,orderName:null,search:"",searchFields:[{label:"Code",value:"code"},{label:"Name",value:"name"},{label:"Description",value:"description"}],tblOptions:{orderBy:null,orderName:null,search:"",searchIn:"code"},datas:{current_page:1,from:0,last_page:0,per_page:0,first_page_url:"",last_page_url:"",next_page_url:"",prev_page_url:"",data:[]}}},methods:{showModal:function(){this.isShowModal=!0},closeModal:function(){this.isShowModal=!1},addOwner:function(){this.$parent.projects=this.formData},handleSelectionChange:function(t){this.multipleSelection=this.$_.map(t,"id")}}},b=f,h=Object(c["a"])(b,m,u,!1,null,null,null);h.options.__file="AddOwner.vue";var g=h.exports,_={components:{"add-member-form":p,"add-owner-form":g},name:"Project",data:function(){return{employees:[{id:1,code:"emp1",name:"Kate",description:"asdasd"},{id:2,code:"emp2",name:"Kate 2",description:"asd"},{id:3,code:"emp3",name:"Kate 3",description:"asqweasd"}],isProcessing:!1,isShowModal:!1,formMode:"New",formData:this.initFormData()}},methods:{showMemberModal:function(){this.$refs.form1.showModal()},showOwnerModal:function(){this.$refs.form2.showModal()},initFormData:function(){return{code:"",name:"",description:"",is_active:1,start_date:"",end_date:"",budget_cost:"",budget_hours:"",project_manager:"",product_owner:[],project_employee:[]}},submitForm:function(){var t=this;console.log("dadhasd"),!1===this.isProcessing&&(this.isProcessing=!0,this.$axios.post("/project/"+this.formMode.toLowerCase(),this.formData).then(function(e){t.projects=e.data,t.isProcessing=!1}))}}},v=_,q=Object(c["a"])(v,s,l,!1,null,null,null);q.options.__file="Form.vue";e["default"]=q.exports}}]);